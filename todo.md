# AI Meeting Optimizer — Detailed Implementation Plan

## 1. Architecture and Preparation

- Оставить только локальный вариант записи аудио (системный звук и микрофон).
- Проверить и привести в порядок структуру проекта: разделить backend (Spring Boot), frontend (если есть), модуль записи.
- Убедиться, что сущности Meeting, Task, User, Transcript и соответствующие репозитории реализованы и готовы к расширению.
- Настроить хранение файлов аудио и транскриптов (структура папок, БД-ссылки).

## 2. Модуль локальной записи аудио

- Выбрать технологию для кроссплатформенной записи системного звука и микрофона (Java с JNA/JavaSound, Python с sounddevice/pyaudio, C++ с PortAudio, Electron с node-audio и др.).
- Реализовать интерфейс для запуска/остановки записи, выбора источников (микрофон, системный звук, оба).
- Записывать аудио в формате WAV/FLAC (поддерживается Whisper).
- Реализовать разбиение аудиопотока на чанки (например, каждые 10–30 секунд сохранять отдельный файл или буфер).
- Сохранять метаданные: время старта, длительность, имя пользователя, путь к файлу, источник (если определено).

## 3. Параллельный анализ аудио (транскрипция)

- Для каждого чанка аудио запускать отдельный поток/процесс для отправки в Whisper (или другой транскриптор).
- Использовать локальный Whisper (через Python API) или внешний сервис (через REST API).
- Собрать транскрипцию по мере готовности чанков, поддерживать правильный порядок (например, по времени старта чанка).
- Реализовать обработку ошибок: повторная отправка неудачных чанков, логирование проблемных участков.
- По завершении — собрать полный текст, сохранить в БД и/или файл.

## 4. Интеграция с backend

- Создать REST API для передачи транскриптов, аудиофайлов и метаданных встреч.
- Реализовать эндпоинты для создания/обновления Meeting, Task, Transcript.
- Сохранять результаты анализа в базе данных, связывать задачи с встречами.
- В AIService реализовать парсинг транскрипта и генерацию TaskDTO (например, с помощью LLM или правил).

## 5. UI/UX

- Интерфейс для запуска/остановки записи, отображения статуса анализа (например, прогресс-бар, индикатор активности).
- Просмотр истории встреч: список встреч, детализация (транскрипт, задачи, аудиофайл).
- Отображение источника встречи (если определено), времени, участников (если возможно).
- Возможность вручную пометить источник встречи, добавить заметки.

## 6. Модуль определения источника встречи (опционально)

- Реализовать определение активного окна/процесса во время записи (например, через JNA/WinAPI для Windows, psutil для Linux/Mac).
- Сохранять название приложения/процесса вместе с записью.
- Использовать эвристику: если активно окно Zoom/Teams/Meet/WhatsApp — автоматически подставлять источник.

## 7. Безопасность и авторизация

- Доработать Spring Security: добавить роли (USER, ADMIN), ограничить доступ к API и данным.
- Защитить пользовательские данные, реализовать шифрование паролей, хранение токенов.
- Реализовать регистрацию, восстановление пароля, email-верификацию (если нужно).

## 8. Тестирование

- Покрыть unit-тестами: сервисы, репозитории, бизнес-логику.
- Покрыть интеграционными тестами: REST API, обработку аудио, транскрипцию.
- Протестировать параллельную обработку, устойчивость к сбоям, корректность сборки транскрипта.

## 9. Документация и deploy

- Описать процесс установки и настройки: зависимости, запуск backend, запуск модуля записи, настройка Whisper.
- Подготовить инструкции для пользователей: как начать запись, где смотреть результаты, как настраивать источники.
- Подготовить скрипты для deploy backend (Docker, systemd, etc.), модуля записи (инсталлятор, portable-версия).

## 10. (Опционально) Расширение

- Добавить интеграции с облачными сервисами (Zoom, Teams, Google Meet) для автоматического сопоставления встреч, если появится такая необходимость.
- Реализовать онлайн-аналитику, рекомендации, интеграцию с календарями (Google Calendar, Outlook).
- Добавить экспорт/импорт данных, интеграцию с Jira/Task Manager.